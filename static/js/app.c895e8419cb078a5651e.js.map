{"version":3,"sources":["webpack:///./src/event-bus.js","webpack:///./src/components/layer-control.js","webpack:///./src/components/LayerControl.vue?cf90","webpack:///./src/components/LayerControl.vue","webpack:///./src/components/Hazards.js","webpack:///./src/components/results-layers.js","webpack:///./src/components/ResultsLayers.vue?22b0","webpack:///./src/components/ResultsLayers.vue","webpack:///./src/components/exposure-layers.js","webpack:///./src/components/exposureLayers.vue?4e51","webpack:///./src/components/exposureLayers.vue","webpack:///./src/app.js","webpack:///./src/App.vue?8eeb","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/LayerControl.vue?ba7b","webpack:///./src/components/images/logos.png"],"names":["bus","vue_esm","layer_control","name","props","layers","type","Array","required","map","Object","data","returnPeriod","selectResults","selectHazards","mounted","watch","handler","this","toggleLayers","deep","methods","_this","lodash_default","a","isNil","vis","each","layer","json_layers","sublayer","maplayer","active","hazard","content","setLayoutProperty","id","LayerControl","render","_vm","_h","$createElement","_c","_self","staticClass","_v","model","value","callback","$$v","expression","_l","n","key","attrs","label","_e","dense","pt-0","$set","_s","icon","directives","rawName","item-text","item-value","light","single-line","auto","on","change","$event","$$selectedVal","prototype","filter","call","target","options","o","selected","_value","multiple","json_layer","domProps","style","range_CF","range_EQ","range","innerHTML","info","src","__webpack_require__","staticRenderFns","components_LayerControl","normalizeComponent","ssrContext","Hazards","deferredMountedTo","hazard_layer","css_CF","css_EQ","CF_layers","url","tileSize","layout","visibility","source","EQ_layers","addLayer","push","console","_","CF_layer","EQ_layer","log","$emit","results_layers","result_layer","textcolor","all_layers","source-layer","paint","fill-color","unconventional_count_layers","conventional_usd_layers","menu_layer","ResultsLayers","components_ResultsLayers","ResultsLayers_normalizeComponent","exposure_layers","exposure_layer","exposureLayers","app","drawer","headers","items","Vue","$on","$refs","popup","mapbox_gl_default","Popup","document","getElementById","setDOMContent","set","addControl","event","e","remove","getCanvas","cursor","queryRenderedFeatures","point","features","properties","text","align","sortable","setLngLat","lngLat","addTo","components","layer-control","v-hazards","v-exposure-layers","exposureLayers_normalizeComponent","App","fixed","flat","color","dark","click","stopPropagation","ref","access-token","map-style","center","zoom","pitch","bearing","min-zoom","hide-actions","scopedSlots","_u","fn","item","App_normalizeComponent","vue2mapbox_gl","vue2mapbox_gl_default","el","use","template","vuetify_default","module","exports"],"mappings":"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","file":"static/js/app.c895e8419cb078a5651e.js","sourcesContent":["import Vue from 'vue';\r\nexport const bus = new Vue();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/event-bus.js","import _ from 'lodash';\r\n\r\nexport default {\r\n  name: 'layer-control',\r\n  props: {\r\n    layers: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    map: {\r\n      type: Object\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      returnPeriod: null,\r\n      selectResults: null,\r\n      selectHazards: null\r\n\r\n    };\r\n  },\r\n  mounted() {},\r\n  watch: {\r\n    // Watch \"layers\". This is a switch, which can toggle a layer on or off\r\n    // When toggled, this watcher will activate the toggleLayers function.\r\n    layers: {\r\n      handler: function(layers) {\r\n        this.toggleLayers();\r\n      },\r\n      deep: true\r\n    },\r\n    returnPeriod: {\r\n      handler: function(returnPeriod) {\r\n        this.toggleLayers();\r\n      },\r\n      deep: true\r\n    },\r\n    selectResults: {\r\n      handler: function(selectResults) {\r\n        this.selectResults = selectResults\r\n        this.toggleLayers();\r\n      },\r\n      deep: true\r\n    },\r\n    selectHazards: {\r\n      handler: function(selectHazards) {\r\n        this.selectHazards = selectHazards\r\n        this.toggleLayers();\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    toggleLayers() {\r\n      if (_.isNil(this.map)) {\r\n        return;\r\n      }\r\n      // Function to toggle the visibility of the layers.\r\n      var vis = ['none', 'visible']\r\n      var types = ['Hazards', 'Results', 'Exposure']\r\n\r\n      _.each(this.layers, (layer) => {\r\n        _.each(layer.json_layers, (sublayer) => {\r\n          _.each(sublayer.data, (maplayer) => {\r\n            if (layer.active &&\r\n              (this.returnPeriod === maplayer.returnPeriod ||\r\n                (this.selectResults === sublayer.name &&\r\n                  maplayer.hazard === this.selectHazards) ||\r\n                layer.content === \"Exposure\")) {\r\n              this.map.setLayoutProperty(maplayer.id, \"visibility\", vis[1]);\r\n            } else {\r\n              this.map.setLayoutProperty(maplayer.id, \"visibility\", vis[0]);\r\n            }\r\n          })\r\n        })\r\n\r\n      });\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/layer-control.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layer-control\"},[_c('v-list-tile',[_c('v-list-tile-title',[_vm._v(\"\\r\\n      Return period\\r\\n    \")]),_vm._v(\" \"),_c('v-list-tile-action',[(_vm.selectHazards=='Coastal Flood')?_c('v-radio-group',{model:{value:(_vm.returnPeriod),callback:function ($$v) {_vm.returnPeriod=$$v},expression:\"returnPeriod\"}},[_c('v-layout',_vm._l(([25, 100, 500]),function(n){return _c('v-radio',{key:n,attrs:{\"label\":(\" \" + n),\"value\":n}})}))],1):_vm._e(),_vm._v(\" \"),(_vm.selectHazards=='EarthQuake')?_c('v-radio-group',{model:{value:(_vm.returnPeriod),callback:function ($$v) {_vm.returnPeriod=$$v},expression:\"returnPeriod\"}},[_c('v-layout',_vm._l(([952, 3935, 8647]),function(n){return _c('v-radio',{key:n,attrs:{\"label\":(\" \" + n),\"value\":n}})}))],1):_vm._e()],1)],1),_vm._v(\" \"),_vm._l((_vm.layers),function(layer){return (layer.content=='Exposure')?_c('v-list',{key:layer.id,attrs:{\"dense\":\"\",\"pt-0\":\"\"}},[_vm._v(\"\\r\\n      School Exposure\\r\\n      \"),_c('v-divider'),_vm._v(\" \"),_c('v-list-tile',[_c('v-list-tile-action',[_c('v-switch',{model:{value:(layer.active),callback:function ($$v) {_vm.$set(layer, \"active\", $$v)},expression:\"layer.active\"}})],1),_vm._v(\" \"),_c('v-list-tile-title',[_vm._v(_vm._s(layer.name))]),_vm._v(\" \"),_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(layer.icon))])],1)],1)],1):_vm._e()}),_vm._v(\" \"),_vm._l((_vm.layers),function(layer){return (layer.content=='Hazards')?_c('v-list',{key:layer.id,attrs:{\"dense\":\"\",\"pt-0\":\"\"}},[_vm._v(\"\\r\\n    Hazards\\r\\n    \"),_c('v-divider'),_vm._v(\" \"),_c('v-list-tile',[_c('v-list-tile-action',[_c('v-switch',{model:{value:(layer.active),callback:function ($$v) {_vm.$set(layer, \"active\", $$v)},expression:\"layer.active\"}})],1),_vm._v(\" \"),_c('v-list-tile-title',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectHazards),expression:\"selectHazards\"}],attrs:{\"label\":\"Select\",\"item-text\":\"name\",\"item-value\":\"name\",\"light\":\"\",\"single-line\":\"\",\"auto\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectHazards=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_vm._v(\"Select\\r\\n          \"),_vm._l((layer.json_layers),function(json_layer){return _c('option',{key:json_layer.id,domProps:{\"value\":json_layer.name}},[_vm._v(\"\\r\\n          \"+_vm._s(json_layer.name)+\"\\r\\n        \")])})],2)]),_vm._v(\" \"),_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(layer.icon))])],1)],1),_vm._v(\" \"),(_vm.selectHazards=='Coastal Flood')?_c('div',{staticClass:\"bar-wrapper\"},[(layer.css_CF)?_c('div',{staticClass:\"bar\",style:(layer.css_CF)}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bartext\"},[_vm._v(_vm._s(layer.range_CF)+\" \"),_c('span',{staticClass:\"barspan\"})])]):_vm._e(),_vm._v(\" \"),(_vm.selectHazards=='EarthQuake')?_c('div',{staticClass:\"bar-wrapper\"},[(layer.css_EQ)?_c('div',{staticClass:\"bar\",style:(layer.css_EQ)}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bartext\"},[_vm._v(_vm._s(layer.range_EQ)+\" \"),_c('span',{staticClass:\"barspan\"})])]):_vm._e()],1):_vm._e()}),_vm._v(\" \"),_vm._l((_vm.layers),function(layer){return (layer.content=='Results')?_c('v-list',{key:layer.id,attrs:{\"dense\":\"\",\"pt-0\":\"\"}},[_vm._v(\"\\r\\n    Results\\r\\n    \"),_c('v-divider'),_vm._v(\" \"),_c('v-list-tile',[_c('v-list-tile-action',[_c('v-switch',{model:{value:(layer.active),callback:function ($$v) {_vm.$set(layer, \"active\", $$v)},expression:\"layer.active\"}})],1),_vm._v(\" \"),_c('v-list-tile-title',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectResults),expression:\"selectResults\"}],attrs:{\"label\":\"Select\",\"item-text\":\"name\",\"item-value\":\"name\",\"light\":\"\",\"single-line\":\"\",\"auto\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectResults=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_vm._v(\"Select\\r\\n          \"),_vm._l((layer.json_layers),function(json_layer){return _c('option',{key:json_layer.id,domProps:{\"value\":json_layer.name}},[_vm._v(\"\\r\\n          \"+_vm._s(json_layer.name)+\"\\r\\n        \")])})],2)]),_vm._v(\" \"),_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(layer.icon))])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bar-wrapper\"},[(layer.css)?_c('div',{staticClass:\"bar\",style:(layer.css)}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bartext\"},[_vm._v(_vm._s(layer.range)+\" \"),_c('span',{staticClass:\"barspan\"})]),_vm._v(\" \"),_c('div',{staticClass:\"information\",domProps:{\"innerHTML\":_vm._s(layer.info)}},[_vm._v(_vm._s(layer.info)+\" \")])])],1):_vm._e()}),_vm._v(\" \"),_c('img',{attrs:{\"id\":\"logos\",\"src\":require(\"./images/logos.png\")}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-34783f0e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LayerControl.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-34783f0e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LayerControl.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./layer-control.js\"\nimport __vue_script__ from \"!!babel-loader!./layer-control.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-34783f0e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LayerControl.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LayerControl.vue\n// module id = null\n// module chunks = ","import {\r\n  bus\r\n} from '@/event-bus.js';\r\n\r\n\r\nexport default {\r\n  name: 'v-hazards',\r\n  data() {\r\n    return {\r\n      map: null,\r\n    };\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    deferredMountedTo(map) {\r\n\r\n      var hazard_layer = {\r\n        name: 'Hazards',\r\n        id: 'hazards',\r\n        icon: 'priority-high',\r\n        active: false,\r\n        content: \"Hazards\",\r\n        json_layers: [],\r\n        range_CF: '0 700',\r\n        css_CF: \"background: linear-gradient(to right, \\\r\n          rgba(247,251,255,40), \\\r\n          rgba(104,160,213,117), \\\r\n          rgba(60,148,201,166), \\\r\n          rgba(49,118,163,202), \\\r\n          rgba(25,86,138,223), \\\r\n          rgba(9,57,129,255))\",\r\n        range_EQ: '0 600',\r\n        css_EQ: \"background: linear-gradient(to right, #f9faa1, #f6f592, #f2ea69,\\\r\n            #f6d746, #fac42a, #fcb014, #fb9d07, #f58c08, #f47918, #ed6925, #e45a31,\\\r\n            #d94d3d, #cc4248, #bf3952, #b0315b, #a02a63, #902568, #801f6c, #71196e,\\\r\n            #61136e, #510e6c, #400a67, #2f0a5b, #1e0c45, #10092d, #050417, #000004)\",\r\n      }\r\n\r\n      var CF_layers = {\r\n\r\n        name: 'Coastal Flood',\r\n        data: [{\r\n          id: 'CF-layer-25',\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'raster',\r\n          returnPeriod: 25,\r\n          source: {\r\n            type: 'raster',\r\n            url: 'mapbox://joaolima.588zuz9x',\r\n            tileSize: 256\r\n          }\r\n        }, {\r\n          id: 'CF-layer-100',\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'raster',\r\n          returnPeriod: 100,\r\n          source: {\r\n            type: 'raster',\r\n            url: 'mapbox://joaolima.awl4l0w6',\r\n            tileSize: 256\r\n          }\r\n        }, {\r\n          id: 'CF-layer-500',\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'raster',\r\n          returnPeriod: 500,\r\n          source: {\r\n            type: 'raster',\r\n            url: 'mapbox://joaolima.84gdnnj5',\r\n            tileSize: 256\r\n          }\r\n        }]\r\n      }\r\n      var EQ_layers = {\r\n        name: 'EarthQuake',\r\n        data: [{\r\n          id: 'EQ-layer-952',\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'raster',\r\n          returnPeriod: 952,\r\n          source: {\r\n            type: 'raster',\r\n            url: 'mapbox://joaolima.7enpsj6a',\r\n            tileSize: 256\r\n          }\r\n        }, {\r\n          id: 'EQ-layer-3935',\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'raster',\r\n          returnPeriod: 3935,\r\n          source: {\r\n            type: 'raster',\r\n            url: 'mapbox://joaolima.awl4l0w6',\r\n            tileSize: 256\r\n          }\r\n        }, {\r\n          id: 'EQ-layer-8647',\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'raster',\r\n          returnPeriod: 8647,\r\n          source: {\r\n            type: 'raster',\r\n            url: 'mapbox://joaolima.br98oxaa',\r\n            tileSize: 256\r\n          }\r\n        }]\r\n      }\r\n      hazard_layer.json_layers.push(CF_layers)\r\n      hazard_layer.json_layers.push(EQ_layers)\r\n\r\n      _.each(CF_layers.data, (CF_layer) => {\r\n        map.addLayer(CF_layer);\r\n      })\r\n\r\n      _.each(EQ_layers.data, (EQ_layer) => {\r\n        map.addLayer(EQ_layer);\r\n      })\r\n      console.log('hazard_layer', hazard_layer)\r\n      bus.$emit('add-layer', hazard_layer);\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Hazards.js","import {\r\n  bus\r\n} from '@/event-bus.js';\r\n\r\n\r\nexport default {\r\n  name: 'v-results-layers',\r\n  data() {\r\n    return {\r\n      map: null,\r\n    };\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    deferredMountedTo(map) {\r\n      var result_layer = {\r\n        active: false,\r\n        content: 'Results',\r\n        icon: 'home',\r\n        id: 'results',\r\n        json_layers: []\r\n      }\r\n\r\n      var conventional_usd_layers = {\r\n        name: 'Conventional USD',\r\n        textcolor: \"rgba(199, 23, 220, 1)\",\r\n        data: [{\r\n          hazard: 'Coastal Flood',\r\n          id: \"CF-conventional-usd\",\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'fill',\r\n          source: {\r\n            type: 'vector',\r\n            url: 'mapbox://joaolima.4ph2ua2g'\r\n          },\r\n          'source-layer': 'CF_conventional_usd-a3oswd',\r\n          'paint': {\r\n            'fill-color': 'rgba(199, 23, 220, 0.26)',\r\n            'fill-outline-color': \"rgba(199, 23, 220, 1)\"\r\n          }\r\n        },\r\n        {\r\n          hazard: 'EarthQuake',\r\n          id: \"EQ-conventional-usd\",\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'fill',\r\n          source: {\r\n            type: 'vector',\r\n            url: 'mapbox://joaolima.7zimfshz'\r\n          },\r\n          'source-layer': 'EQ_conventional_usd-0w18ma',\r\n          'paint': {\r\n            'fill-color': 'rgba(199, 23, 220, 0.26)',\r\n            'fill-outline-color': \"rgba(199, 23, 220, 1)\"\r\n          }\r\n        }]\r\n      }\r\n\r\n      var unconventional_usd_layers = {\r\n        name: 'Unconventional USD',\r\n        textcolor: 'rgba(0, 64, 231, 1)',\r\n        data: [{\r\n          hazard: 'Coastal Flood',\r\n          id: \"CF-unconventional-usd\",\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'fill',\r\n          source: {\r\n            type: 'vector',\r\n            url: 'mapbox://joaolima.3sywikko'\r\n          },\r\n          'source-layer': 'CF_unconventional_count30-dwzjx9',\r\n          'paint': {\r\n            'fill-color': 'rgba(0, 64, 231, 0.26)',\r\n            'fill-outline-color': 'rgba(0, 64, 231, 1)'\r\n\r\n          }\r\n        },\r\n        {\r\n          hazard: 'EarthQuake',\r\n          id: \"EQ-unconventional-usd\",\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'fill',\r\n          source: {\r\n            type: 'vector',\r\n            url: 'mapbox://joaolima.5bsudt95'\r\n          },\r\n          'source-layer': 'EQ_unconventional_usd-6b4jai',\r\n          'paint': {\r\n            'fill-color': 'rgba(0, 64, 231, 0.26)',\r\n            'fill-outline-color': 'rgba(0, 64, 231, 1)'\r\n\r\n          }\r\n        }]\r\n      }\r\n\r\n      var unconventional_count_layers = {\r\n        name: 'Unconventional Count',\r\n        textcolor: 'rgba(52, 220, 58, 1)',\r\n        data: [{\r\n          hazard: 'Coastal Flood',\r\n          id: \"CF-unconventional-count\",\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'fill',\r\n          source: {\r\n            type: 'vector',\r\n            url: 'mapbox://joaolima.3sywikko'\r\n          },\r\n          'source-layer': 'CF_unconventional_count30-dwzjx9',\r\n          'paint': {\r\n            'fill-color': 'rgba(52, 220, 58, 0.26)',\r\n            'fill-outline-color': 'rgba(52, 220, 58, 1)'\r\n          }\r\n        },\r\n        {\r\n          hazard: 'EarthQuake',\r\n          id: \"EQ-unconventional-count\",\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'fill',\r\n          source: {\r\n            type: 'vector',\r\n            url: 'mapbox://joaolima.0rn8aiji'\r\n          },\r\n          'source-layer': 'EQ_unconventional_count-axxh45',\r\n          'paint': {\r\n            'fill-color': 'rgba(52, 220, 58, 0.26)',\r\n            'fill-outline-color': 'rgba(52, 220, 58, 1)'\r\n          }\r\n        }]\r\n      }\r\n\r\n      var conventional_count_layers = {\r\n        name: 'Conventional count',\r\n        textcolor: 'rgba(242, 220, 19, 1)',\r\n        data: [{\r\n          hazard: 'Coastal Flood',\r\n          id: \"CF-conventional-count\",\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'fill',\r\n          source: {\r\n            type: 'vector',\r\n            url: 'mapbox://joaolima.15kwtp2e'\r\n          },\r\n          'source-layer': 'CF_conventional_count30-887azr',\r\n          'paint': {\r\n            'fill-color': 'rgba(242, 220, 19, 0.26)',\r\n            'fill-outline-color': 'rgba(242, 220, 19, 1)'\r\n          }\r\n        },\r\n        {\r\n          hazard: 'EarthQuake',\r\n          id: \"EQ-conventional-count\",\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'fill',\r\n          source: {\r\n            type: 'vector',\r\n            url: 'mapbox://joaolima.45biq1lh'\r\n          },\r\n          'source-layer': 'EQ_conventional_count-dvud0r',\r\n          'paint': {\r\n            'fill-color': 'rgba(242, 220, 19, 0.26)',\r\n            'fill-outline-color': 'rgba(242, 220, 19, 1)'\r\n          }\r\n        }]\r\n      }\r\n\r\n      var pupils_layers = {\r\n        name: 'Pupils',\r\n        textcolor: 'rgba(250, 24, 21, 1)',\r\n        data: [{\r\n          hazard: 'EarthQuake',\r\n          id: \"EQ-pupils\",\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'fill',\r\n          source: {\r\n            type: 'vector',\r\n            url: 'mapbox://joaolima.5ku77z5c'\r\n          },\r\n          'source-layer': 'EQ_pupils-9ftcxb',\r\n          'paint': {\r\n            'fill-color': 'rgba(250, 24, 21, 0.26)',\r\n            'fill-outline-color': 'rgba(250, 24, 21, 1)'\r\n          }\r\n        },\r\n        {\r\n          hazard: 'Coastal Flood',\r\n          id: \"CF-pupils\",\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'fill',\r\n          source: {\r\n            type: 'vector',\r\n            url: 'mapbox://joaolima.36ig2zci'\r\n          },\r\n          'source-layer': 'CF_pupils-4q3ft2',\r\n          'paint': {\r\n            'fill-color': 'rgba(250, 24, 21, 0.26)',\r\n            'fill-outline-color': 'rgba(250, 24, 21, 1)'\r\n          }\r\n        }]\r\n      }\r\n\r\n      this.map = map\r\n      var all_layers = [conventional_usd_layers,\r\n        unconventional_usd_layers,\r\n        conventional_count_layers,\r\n        unconventional_count_layers,\r\n        pupils_layers]\r\n\r\n      _.each(all_layers, (menu_layer) => {\r\n        result_layer.json_layers.push(menu_layer)\r\n        this.map.addLayer(menu_layer.data[0]);\r\n      })\r\n\r\n      bus.$emit('add-layer', result_layer);\r\n\r\n\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/results-layers.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hidden\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-34331114\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ResultsLayers.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-34331114\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ResultsLayers.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./results-layers.js\"\nimport __vue_script__ from \"!!babel-loader!./results-layers.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-34331114\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ResultsLayers.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-34331114\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ResultsLayers.vue\n// module id = null\n// module chunks = ","import {\r\n  bus\r\n} from '@/event-bus.js';\r\n\r\n\r\nexport default {\r\n  name: 'v-exposure-layers',\r\n  data() {\r\n    return {\r\n      map: null,\r\n    };\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    deferredMountedTo(map) {\r\n      var result_layer = {\r\n        active: false,\r\n        content: 'Exposure',\r\n        icon: 'home',\r\n        id: 'results',\r\n        name: 'Combined exposure',\r\n        json_layers: []\r\n      }\r\n\r\n      var exposure_layer = {\r\n        name: 'Combined exposure',\r\n        textcolor: \"rgba(199, 23, 220, 1)\",\r\n        data: [{\r\n          id: \"combined-exposure\",\r\n          layout: {\r\n            'visibility': 'none'\r\n          },\r\n          type: 'circle',\r\n          source: {\r\n            type: 'vector',\r\n            url: 'mapbox://joaolima.cg24n2xe'\r\n          },\r\n          'source-layer': 'Combined_Exposure-3noze9',\r\n          'paint': {}\r\n        }]\r\n      }\r\n      this.map = map\r\n\r\n\r\n      result_layer.json_layers.push(exposure_layer)\r\n      this.map.addLayer(exposure_layer.data[0]);\r\n\r\n      bus.$emit('add-layer', result_layer);\r\n\r\n\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/exposure-layers.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hidden\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e120188\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/exposureLayers.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e120188\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./exposureLayers.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./exposure-layers.js\"\nimport __vue_script__ from \"!!babel-loader!./exposure-layers.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e120188\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./exposureLayers.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4e120188\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/exposureLayers.vue\n// module id = null\n// module chunks = ","import {\r\n  bus\r\n} from '@/event-bus.js';\r\n\r\nimport Vue from 'vue';\r\nimport mapboxgl from 'mapbox-gl';\r\nimport LayerControl from './components/LayerControl';\r\nimport Hazards from './components/Hazards';\r\nimport ResultsLayers from './components/ResultsLayers';\r\nimport exposureLayers from './components/exposureLayers';\r\n\r\nexport default {\r\n  name: 'app',\r\n  data: function() {\r\n    return {\r\n      map: null,\r\n      drawer: null,\r\n      layers: [],\r\n      headers: [],\r\n      items: []\r\n    };\r\n  },\r\n  mounted() {\r\n    this.map = this.$refs.map.map;\r\n\r\n    var popup = new mapboxgl.Popup({})\r\n    var content = document.getElementById('popupinfo')\r\n    popup.setDOMContent(content)\r\n\r\n\r\n    bus.$on('select-layers', (layers) => {\r\n      Vue.set(this, 'layers', layers);\r\n    });\r\n    bus.$on('add-layer', (layer) => {\r\n      this.layers.push(layer);\r\n    });\r\n    this.map.on('error', event => console.log(event))\r\n\r\n    // Error, because not all tiles exist in the layers.\r\n    this.map.on('load', (event) => {\r\n      bus.$emit('map-loaded', this.$refs.map.map)\r\n      this.map.addControl(new mapboxgl.NavigationControl());\r\n\r\n      this.map.on('mousemove', (e) => {\r\n        this.$refs.map.map.getCanvas().style.cursor = '';\r\n        var features_list = this.map.queryRenderedFeatures(e.point);\r\n        if (typeof features_list[0] !== 'undefined') {\r\n          this.$refs.map.map.getCanvas().style.cursor = 'pointer';\r\n        }\r\n      })\r\n\r\n      // create popup with table with information\r\n      this.map.on('click', (e) => {\r\n        popup.remove()\r\n        var features = this.map.queryRenderedFeatures(e.point);\r\n        if (features[0].layer['id'] === \"combined-exposure\") {\r\n          this.items = [{\r\n              value: false,\r\n              name: 'Name',\r\n              data: features[0].properties['Name'],\r\n            },\r\n            {\r\n              value: false,\r\n              name: 'type',\r\n              'data': features[0].properties['Type'],\r\n            },\r\n            {\r\n              value: false,\r\n              name: 'Pupils fin',\r\n              'data': features[0].properties['PUPILS_FIN'],\r\n            },\r\n            {\r\n              value: false,\r\n              name: 'Total ReCost',\r\n              'data': features[0].properties['Tot_ReCost'],\r\n            },\r\n            {\r\n              value: false,\r\n              name: 'UNCON_FINA',\r\n              'data': features[0].properties['UNCON_FINA'],\r\n            }\r\n          ]\r\n          this.headers = [{\r\n              text: features[0].properties['ADM1_NAME'] + ', ' + features[0].properties['ADM2_NAME'],\r\n              align: 'left',\r\n              sortable: false,\r\n              value: 'name'\r\n            },\r\n            {\r\n              text: 'data',\r\n              value: 'data'\r\n            }\r\n          ]\r\n          popup.setLngLat(e.lngLat)\r\n            .addTo(this.map)\r\n        } else if (features[0].layer['id'] !== \"combined-exposure\") {\r\n          this.items = [{\r\n              value: false,\r\n              name: \"Name\",\r\n              data: features[0].layer['id']\r\n            },\r\n            {\r\n              value: false,\r\n              name: \"Return period: 10 years\",\r\n              data: features[0].properties['10']\r\n            },\r\n            {\r\n              value: false,\r\n              name: \"Return period: 100 years\",\r\n              data: features[0].properties['100']\r\n            }, {\r\n              value: false,\r\n              name: \"Return period: 500 years\",\r\n              data: features[0].properties['500']\r\n            }, {\r\n              value: false,\r\n              name: \"Annual Expected Damage\",\r\n              data: features[0].properties['AED']\r\n            },\r\n          ]\r\n          this.headers = [{\r\n              text: features[0].properties['ADM1_NAME'] + ', ' + features[0].properties['ADM2_NAME'],\r\n              align: 'left',\r\n              sortable: false,\r\n              value: 'name'\r\n            },\r\n            {\r\n              text: 'Data',\r\n              value: 'data'\r\n            }\r\n          ]\r\n          popup.setLngLat(e.lngLat)\r\n            .addTo(this.map);\r\n        }\r\n      });\r\n    });\r\n\r\n  },\r\n  watch: {},\r\n  methods: {},\r\n  components: {\r\n    'layer-control': LayerControl,\r\n    'v-hazards': Hazards,\r\n    'v-exposure-layers': exposureLayers,\r\n    'v-results-layers': ResultsLayers\r\n\r\n  },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-list',[_c('v-list-tile',[_c('v-list-tile-title',{staticClass:\"title\"},[_vm._v(\"\\r\\n            Layers\\r\\n          \")])],1)],1)],1),_vm._v(\" \"),_c('layer-control',{attrs:{\"layers\":_vm.layers,\"map\":_vm.map}})],1),_vm._v(\" \"),_c('v-toolbar',{attrs:{\"color\":\"indigo\",\"dark\":\"\",\"fixed\":\"\",\"app\":\"\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_vm._v(\" \"),_c('v-toolbar-title',[_vm._v(\"Safer schools viewer\")])],1),_vm._v(\" \"),_c('v-content',[_c('div',{attrs:{\"id\":\"map\"}},[_c('v-mapbox',{ref:\"map\",attrs:{\"access-token\":\"pk.eyJ1IjoiY2FtdmR2cmllcyIsImEiOiJjajA4NXdpNmswMDB2MzNzMjk4dGM2cnhzIn0.lIwd8N7wf0hx7mq-kjTcbQ\",\"map-style\":\"mapbox://styles/mapbox/satellite-streets-v10\",\"center\":[34.85752836605343, -19.830506337137294],\"zoom\":10,\"pitch\":60,\"bearing\":-132,\"min-zoom\":5,\"id\":\"map\"}},[_c('v-hazards'),_vm._v(\" \"),_c('v-results-layers'),_vm._v(\" \"),_c('v-exposure-layers'),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"popupinfo\"}},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"hide-actions\":\"\"},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('td',[_vm._v(_vm._s(props.item.name))]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-right\"},[_vm._v(_vm._s(props.item.data))])]}}])})],1)],1)],1)]),_vm._v(\" \"),_c('v-footer',{attrs:{\"color\":\"indigo\",\"app\":\"\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(\"Â© 2017\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07d4b908\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-07d4b908\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./app.js\"\nimport __vue_script__ from \"!!babel-loader!./app.js\"/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-07d4b908\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue';\r\nimport Vuetify from 'vuetify';\r\n\r\nimport App from './App.vue';\r\nimport Vue2MapboxGL from 'vue2mapbox-gl';\r\n\r\nVue.use(Vue2MapboxGL);\r\nVue.use(Vuetify);\r\n\r\nimport 'vuetify/dist/vuetify.min.css';\r\n\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  template: '<App/>',\r\n  components: { App }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-34783f0e\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/LayerControl.vue\n// module id = dyzo\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/logos.d8e69e3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/images/logos.png\n// module id = xcLp\n// module chunks = 1"],"sourceRoot":""}