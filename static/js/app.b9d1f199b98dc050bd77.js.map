{"version":3,"sources":["webpack:///./src/event-bus.js","webpack:///./src/components/layer-control.js","webpack:///./src/components/LayerControl.vue?7ff2","webpack:///./src/components/LayerControl.vue","webpack:///./src/components/Hazards.js","webpack:///./src/components/results-layers.js","webpack:///./src/components/ResultsLayers.vue?22b0","webpack:///./src/components/ResultsLayers.vue","webpack:///./src/components/exposure-layers.js","webpack:///./src/components/exposureLayers.vue?4e51","webpack:///./src/components/exposureLayers.vue","webpack:///./src/app.js","webpack:///./src/App.vue?1345","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["bus","vue_esm","layer_control","name","props","layers","type","Array","required","map","Object","data","returnPeriod","selectResults","selectHazards","mounted","watch","handler","this","toggleLayers","deep","methods","_this","lodash_default","a","isNil","vis","each","layer","json_layers","sublayer","maplayer","active","hazard","content","setLayoutProperty","id","LayerControl","render","_vm","_h","$createElement","_c","_self","staticClass","_v","model","value","callback","$$v","expression","attrs","row","_l","n","key","label","dense","pt-0","$set","_s","icon","style","_e","range","domProps","innerHTML","info","directives","rawName","item-text","item-value","light","single-line","auto","on","change","$event","$$selectedVal","prototype","filter","call","target","options","o","selected","_value","multiple","json_layer","staticRenderFns","components_LayerControl","__webpack_require__","normalizeComponent","ssrContext","Hazards","deferredMountedTo","hazard_layer","css","CF_layers","layout","visibility","source","url","tileSize","push","_","CF_layer","console","log","addLayer","$emit","results_layers","result_layer","all_layers","textcolor","source-layer","paint","fill-color","fill-outline-color","menu_layer","ResultsLayers","components_ResultsLayers","ResultsLayers_normalizeComponent","exposure_layers","exposure_layer","exposureLayers","app","drawer","headers","text","align","sortable","items","$refs","popup","mapbox_gl_default","Popup","document","getElementById","setDOMContent","$on","set","event","e","getCanvas","cursor","queryRenderedFeatures","point","addControl","NavigationControl","features","remove","rp10","properties","rp100","rp500","AED","setLngLat","lngLat","addTo","components","layer-control","v-hazards","v-exposure-layers","exposureLayers_normalizeComponent","v-results-layers","App","fixed","flat","color","dark","click","stopPropagation","ref","access-token","map-style","center","zoom","pitch","bearing","min-zoom","hide-actions","scopedSlots","_u","fn","item","src_App","App_normalizeComponent","use","vue2mapbox_gl_default","vuetify_default","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.b9d1f199b98dc050bd77.js","sourcesContent":["import Vue from 'vue';\r\nexport const bus = new Vue();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/event-bus.js","import _ from 'lodash';\n\nexport default {\n  name: 'layer-control',\n  props: {\n    layers: {\n      type: Array,\n      required: true\n    },\n    map: {\n      type: Object\n    }\n  },\n  data() {\n    return {\n      returnPeriod: null,\n      selectResults: null,\n      selectHazards: null\n\n    };\n  },\n  mounted() {},\n  watch: {\n    // Watch \"layers\". This is a switch, which can toggle a layer on or off\n    // When toggled, this watcher will activate the toggleLayers function.\n    layers: {\n      handler: function(layers) {\n        this.toggleLayers();\n      },\n      deep: true\n    },\n    returnPeriod: {\n      handler: function(returnPeriod) {\n        this.toggleLayers();\n      },\n      deep: true\n    },\n    selectResults: {\n      handler: function(selectResults) {\n        this.selectResults = selectResults\n        this.toggleLayers();\n      },\n      deep: true\n    },\n    selectHazards: {\n      handler: function(selectHazards) {\n        this.selectHazards = selectHazards\n        this.toggleLayers();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    toggleLayers() {\n      if (_.isNil(this.map)) {\n        return;\n      }\n      // Function to toggle the visibility of the layers.\n      var vis = ['none', 'visible']\n      var types = ['Hazards', 'Results', 'Exposure']\n\n      _.each(this.layers, (layer) => {\n        _.each(layer.json_layers, (sublayer) => {\n          _.each(sublayer.data, (maplayer) => {\n            if (layer.active &&\n              (this.returnPeriod === maplayer.returnPeriod ||\n                (this.selectResults === sublayer.name &&\n                  maplayer.hazard === this.selectHazards) ||\n                layer.content === \"Exposure\")) {\n              this.map.setLayoutProperty(maplayer.id, \"visibility\", vis[1]);\n            } else {\n              this.map.setLayoutProperty(maplayer.id, \"visibility\", vis[0]);\n            }\n          })\n        })\n\n      });\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/layer-control.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layer-control\"},[_c('v-list-tile',[_c('v-list-tile-title',[_vm._v(\"\\r\\n      Return period\\r\\n    \")]),_vm._v(\" \"),_c('v-list-tile-action',[_c('v-radio-group',{model:{value:(_vm.returnPeriod),callback:function ($$v) {_vm.returnPeriod=$$v},expression:\"returnPeriod\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},_vm._l(([25, 100, 500]),function(n){return _c('v-radio',{key:n,attrs:{\"label\":(\" \" + n),\"value\":n}})}))],1)],1)],1),_vm._v(\" \"),_vm._l((_vm.layers),function(layer){return (layer.content=='Exposure')?_c('v-list',{key:layer.id,attrs:{\"dense\":\"\",\"pt-0\":\"\"}},[_vm._v(\"\\r\\n    School Exposure\\r\\n    \"),_c('v-divider'),_vm._v(\" \"),_c('v-list-tile',[_c('v-list-tile-action',[_c('v-switch',{model:{value:(layer.active),callback:function ($$v) {_vm.$set(layer, \"active\", $$v)},expression:\"layer.active\"}})],1),_vm._v(\" \"),_c('v-list-tile-title',[_vm._v(_vm._s(layer.name))]),_vm._v(\" \"),_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(layer.icon))])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bar-wrapper\"},[(layer.css)?_c('div',{staticClass:\"bar\",style:(layer.css)}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bartext\"},[_vm._v(_vm._s(layer.range)+\" \"),_c('span',{staticClass:\"barspan\"})]),_vm._v(\" \"),_c('div',{staticClass:\"information\",domProps:{\"innerHTML\":_vm._s(layer.info)}},[_vm._v(_vm._s(layer.info)+\" \")])])],1):_vm._e()}),_vm._v(\" \"),_vm._l((_vm.layers),function(layer){return (layer.content=='Hazards')?_c('v-list',{key:layer.id,attrs:{\"dense\":\"\",\"pt-0\":\"\"}},[_vm._v(\"\\r\\n    Hazards\\r\\n    \"),_c('v-divider'),_vm._v(\" \"),_c('v-list-tile',[_c('v-list-tile-action',[_c('v-switch',{model:{value:(layer.active),callback:function ($$v) {_vm.$set(layer, \"active\", $$v)},expression:\"layer.active\"}})],1),_vm._v(\" \"),_c('v-list-tile-title',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectHazards),expression:\"selectHazards\"}],attrs:{\"label\":\"Select\",\"item-text\":\"name\",\"item-value\":\"name\",\"light\":\"\",\"single-line\":\"\",\"auto\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectHazards=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_vm._v(\"Select\\r\\n          \"),_vm._l((layer.json_layers),function(json_layer){return _c('option',{key:json_layer.id,domProps:{\"value\":json_layer.name}},[_vm._v(\"\\r\\n          \"+_vm._s(json_layer.name)+\"\\r\\n        \")])})],2)]),_vm._v(\" \"),_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(layer.icon))])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bar-wrapper\"},[(layer.css)?_c('div',{staticClass:\"bar\",style:(layer.css)}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bartext\"},[_vm._v(_vm._s(layer.range)+\" \"),_c('span',{staticClass:\"barspan\"})]),_vm._v(\" \"),_c('div',{staticClass:\"information\",domProps:{\"innerHTML\":_vm._s(layer.info)}},[_vm._v(_vm._s(layer.info)+\" \")])])],1):_vm._e()}),_vm._v(\" \"),_vm._l((_vm.layers),function(layer){return (layer.content=='Results')?_c('v-list',{key:layer.id,attrs:{\"dense\":\"\",\"pt-0\":\"\"}},[_vm._v(\"\\r\\n    Results\\r\\n    \"),_c('v-divider'),_vm._v(\" \"),_c('v-list-tile',[_c('v-list-tile-action',[_c('v-switch',{model:{value:(layer.active),callback:function ($$v) {_vm.$set(layer, \"active\", $$v)},expression:\"layer.active\"}})],1),_vm._v(\" \"),_c('v-list-tile-title',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectResults),expression:\"selectResults\"}],attrs:{\"label\":\"Select\",\"item-text\":\"name\",\"item-value\":\"name\",\"light\":\"\",\"single-line\":\"\",\"auto\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectResults=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_vm._v(\"Select\\r\\n          \"),_vm._l((layer.json_layers),function(json_layer){return _c('option',{key:json_layer.id,domProps:{\"value\":json_layer.name}},[_vm._v(\"\\r\\n          \"+_vm._s(json_layer.name)+\"\\r\\n        \")])})],2)]),_vm._v(\" \"),_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(layer.icon))])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bar-wrapper\"},[(layer.css)?_c('div',{staticClass:\"bar\",style:(layer.css)}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bartext\"},[_vm._v(_vm._s(layer.range)+\" \"),_c('span',{staticClass:\"barspan\"})]),_vm._v(\" \"),_c('div',{staticClass:\"information\",domProps:{\"innerHTML\":_vm._s(layer.info)}},[_vm._v(_vm._s(layer.info)+\" \")])])],1):_vm._e()})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20996d91\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LayerControl.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20996d91\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LayerControl.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./layer-control.js\"\nimport __vue_script__ from \"!!babel-loader!./layer-control.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20996d91\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LayerControl.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LayerControl.vue\n// module id = null\n// module chunks = ","import {\n  bus\n} from '@/event-bus.js';\n\n\nexport default {\n  name: 'v-hazards',\n  data() {\n    return {\n      map: null,\n    };\n  },\n  mounted() {},\n  methods: {\n    deferredMountedTo(map) {\n\n      var hazard_layer = {\n        name: 'Hazards',\r\n        id: 'hazards',\n        icon: 'priority-high',\n        active: false,\n        content: \"Hazards\",\n        json_layers: [],\n        range: '0 700',\n        \"css\": \"background: linear-gradient(to right, \\\n          rgba(247,251,255,40), \\\n          rgba(104,160,213,117), \\\n          rgba(60,148,201,166), \\\n          rgba(49,118,163,202), \\\n          rgba(25,86,138,223), \\\n          rgba(9,57,129,255))\"\n      }\n\n      var CF_layers = {\n        name: 'Coastal Flood',\n        data: [{\n          id: 'CF-layer-25',\n          layout: {\n            'visibility': 'none'\n          },\n          type: 'raster',\n          returnPeriod: 25,\n          source: {\n            type: 'raster',\n            url: 'mapbox://joaolima.588zuz9x',\n            tileSize: 256\n          }\n        }, {\n          id: 'CF-layer-100',\n          layout: {\n            'visibility': 'none'\n          },\n          type: 'raster',\n          returnPeriod: 100,\n          source: {\n            type: 'raster',\n            url: 'mapbox://joaolima.awl4l0w6',\n            tileSize: 256\n          }\n        }, {\n          id: 'CF-layer-500',\n          layout: {\n            'visibility': 'none'\n          },\n          type: 'raster',\n          returnPeriod: 500,\n          source: {\n            type: 'raster',\n            url: 'mapbox://joaolima.84gdnnj5',\n            tileSize: 256\n          }\n        }]\n      }\n      hazard_layer.json_layers.push(CF_layers)\n      _.each(CF_layers.data, (CF_layer) => {\r\n        console.log('CF_layer', CF_layer)\n        map.addLayer(CF_layer);\n      })\r\n      console.log('hazard_layer', hazard_layer)\r\n      bus.$emit('add-layer', hazard_layer);\n    }\n  }\n\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Hazards.js","import {\n  bus\n} from '@/event-bus.js';\n\n\nexport default {\n  name: 'v-results-layers',\n  data() {\n    return {\n      map: null,\n    };\n  },\n  mounted() {},\n  methods: {\n    deferredMountedTo(map) {\n      var result_layer = {\n        active: false,\n        content: 'Results',\n        icon: 'home',\n        id: 'results',\n        json_layers: []\n      }\n\n      var conventional_usd_layers = {\n        name: 'Conventional USD',\n        textcolor: \"rgba(199, 23, 220, 1)\",\n        data: [{\n          hazard: 'Coastal Flood',\n          id: \"CF-conventional-usd\",\n          layout: {\n            'visibility': 'none'\n          },\n          type: 'fill',\n          source: {\n            type: 'vector',\n            url: 'mapbox://joaolima.4ph2ua2g'\n          },\n          'source-layer': 'CF_conventional_usd-a3oswd',\n          'paint': {\n            'fill-color': 'rgba(199, 23, 220, 0.26)',\n            'fill-outline-color': \"rgba(199, 23, 220, 1)\"\n          }\n        }]\n      }\n\n      var unconventional_usd_layers = {\n        name: 'Unconventional USD',\n        textcolor: 'rgba(0, 64, 231, 1)',\n        data: [{\n          hazard: 'Coastal Flood',\n          id: \"CF-unconventional-usd\",\n          layout: {\n            'visibility': 'none'\n          },\n          type: 'fill',\n          source: {\n            type: 'vector',\n            url: 'mapbox://joaolima.drs7l8os'\n          },\n          'source-layer': 'CF_unconventional_usd-bv0i45',\n          'paint': {\n            'fill-color': 'rgba(0, 64, 231, 0.26)',\n            'fill-outline-color': 'rgba(0, 64, 231, 1)'\n\n          }\n        }]\n      }\n\n      var unconventional_count_layers = {\n        name: 'Unconventional Count',\n        textcolor: 'rgba(52, 220, 58, 1)',\n        data: [{\n          hazard: 'Coastal Flood',\n          id: \"CF-unconventional-count\",\n          layout: {\n            'visibility': 'none'\n          },\n          type: 'fill',\n          source: {\n            type: 'vector',\n            url: 'mapbox://joaolima.3sywikko'\n          },\n          'source-layer': 'CF_unconventional_count30-dwzjx9',\n          'paint': {\n            'fill-color': 'rgba(52, 220, 58, 0.26)',\n            'fill-outline-color': 'rgba(52, 220, 58, 1)'\n          }\n        }]\n      }\n\n      var conventional_count_layers = {\n        name: 'Conventional count',\n        textcolor: 'rgba(242, 220, 19, 1)',\n        data: [{\n          hazard: 'Coastal Flood',\n          id: \"CF-conventional-count\",\n          layout: {\n            'visibility': 'none'\n          },\n          type: 'fill',\n          source: {\n            type: 'vector',\n            url: 'mapbox://joaolima.15kwtp2e'\n          },\n          'source-layer': 'CF_conventional_count30-887azr',\n          'paint': {\n            'fill-color': 'rgba(242, 220, 19, 0.26)',\n            'fill-outline-color': 'rgba(242, 220, 19, 1)'\n          }\n        }]\n      }\n\n      var pupils_layers = {\n        name: 'Pupils',\n        textcolor: 'rgba(250, 24, 21, 1)',\n        data: [{\n          hazard: 'Coastal Flood',\n          id: \"CF-pupils\",\n          layout: {\n            'visibility': 'none'\n          },\n          type: 'fill',\n          source: {\n            type: 'vector',\n            url: 'mapbox://joaolima.36ig2zci'\n          },\n          'source-layer': 'CF_pupils-4q3ft2',\n          'paint': {\n            'fill-color': 'rgba(250, 24, 21, 0.26)',\n            'fill-outline-color': 'rgba(250, 24, 21, 1)'\n          }\n        }]\n      }\n\n      this.map = map\n      var all_layers = [conventional_usd_layers,\n        unconventional_usd_layers,\n        conventional_count_layers,\n        unconventional_count_layers,\n        pupils_layers]\n\n      _.each(all_layers, (menu_layer) => {\n        result_layer.json_layers.push(menu_layer)\n        this.map.addLayer(menu_layer.data[0]);\n      })\n\n      bus.$emit('add-layer', result_layer);\n\n\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/results-layers.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hidden\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-34331114\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ResultsLayers.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-34331114\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ResultsLayers.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./results-layers.js\"\nimport __vue_script__ from \"!!babel-loader!./results-layers.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-34331114\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ResultsLayers.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-34331114\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ResultsLayers.vue\n// module id = null\n// module chunks = ","import {\n  bus\n} from '@/event-bus.js';\n\n\nexport default {\n  name: 'v-exposure-layers',\n  data() {\n    return {\n      map: null,\n    };\n  },\n  mounted() {},\n  methods: {\n    deferredMountedTo(map) {\n      var result_layer = {\n        active: false,\n        content: 'Exposure',\n        icon: 'home',\n        id: 'results',\n        name: 'Combined exposure',\n        json_layers: []\n      }\n\n      var exposure_layer = {\n        name: 'Combined exposure',\n        textcolor: \"rgba(199, 23, 220, 1)\",\n        data: [{\n          id: \"combined-exposure\",\n          layout: {\n            'visibility': 'none'\n          },\n          type: 'circle',\n          source: {\n            type: 'vector',\n            url: 'mapbox://joaolima.cg24n2xe'\n          },\n          'source-layer': 'Combined_Exposure-3noze9',\n          'paint': {}\n        }]\n      }\n      this.map = map\n\n\n      result_layer.json_layers.push(exposure_layer)\n      this.map.addLayer(exposure_layer.data[0]);\n\n      bus.$emit('add-layer', result_layer);\n\n\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/exposure-layers.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hidden\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e120188\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/exposureLayers.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e120188\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./exposureLayers.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./exposure-layers.js\"\nimport __vue_script__ from \"!!babel-loader!./exposure-layers.js\"/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e120188\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./exposureLayers.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4e120188\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/exposureLayers.vue\n// module id = null\n// module chunks = ","import {\n  bus\n} from '@/event-bus.js';\n\nimport Vue from 'vue';\nimport mapboxgl from 'mapbox-gl';\nimport LayerControl from './components/LayerControl';\nimport Hazards from './components/Hazards';\nimport ResultsLayers from './components/ResultsLayers';\nimport exposureLayers from './components/exposureLayers';\n\nexport default {\n  name: 'app',\n  data: function() {\n    return {\n      map: null,\n      drawer: null,\n      layers: [],\r\n      headers: [\r\n        {\r\n          text: '',\r\n          align: 'left',\r\n          sortable: false,\r\n          value: 'name'\r\n        },\r\n        { text: '1/10 year return period', value: 'rp10'},\r\n        { text: '1/100 year return period', value: 'rp100'},\r\n        { text: '1/500 year return period', value: 'rp500'},\r\n        { text: 'Annual Expected Data', value: 'AED'},\r\n      ],\r\n      items: []\r\n    };\n  },\n  mounted() {\r\n    this.map = this.$refs.map.map;\r\n\r\n    var popup = new mapboxgl.Popup({})\n    var content = document.getElementById('popupinfo')\n    popup.setDOMContent(content)\n\n    bus.$on('select-layers', (layers) => {\n      Vue.set(this, 'layers', layers);\n    });\n    bus.$on('add-layer', (layer) => {\n      this.layers.push(layer);\n    });\r\n    this.map.on('error', event => console.log(event))\r\n\n    // Error, because not all tiles exist in the layers.\r\n    this.map.on('load', (event) => {\n\n      this.map.on('mousemove', (e) => {\n          this.$refs.map.map.getCanvas().style.cursor = '';\n          var features_list = this.map.queryRenderedFeatures(e.point);\n          if (typeof features_list[0] !== 'undefined') {\n            this.$refs.map.map.getCanvas().style.cursor = 'pointer';\n          }\n        })\n\n      bus.$emit('map-loaded', this.$refs.map.map)\r\n\n      this.map.addControl(new mapboxgl.NavigationControl());\n\n      // create popup with table with information\n      this.map.on('click', (e) => {\n        var features = this.map.queryRenderedFeatures(e.point);\n        console.log(features)\n        if (features[0].layer['id'] !== \"combined-exposure\"){\n        popup.remove()\n\r\n                this.items = [\r\n          {\r\n            value: false,\r\n            name: features[0].layer['id'],\r\n            'rp10': features[0].properties['10'],\r\n            'rp100': features[0].properties['100'],\r\n            'rp500': features[0].properties['500'],\r\n            'AED': features[0].properties['AED']\r\n          }\r\n        ]\r\n        this.headers[0].text = features[0].properties['ADM1_NAME'] + ', ' + features[0].properties['ADM2_NAME']\r\n        popup.setLngLat(e.lngLat)\r\n          .addTo(this.map);\n        }\n      });\n    });\n\n  },\r\n  watch: {\r\n  },\n  methods: {},\n  components: {\r\n    'layer-control': LayerControl,\n    'v-hazards': Hazards,\n    'v-exposure-layers': exposureLayers,\n    'v-results-layers': ResultsLayers\n\n  },\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-list',[_c('v-list-tile',[_c('v-list-tile-title',{staticClass:\"title\"},[_vm._v(\"\\n            Layers\\n          \")])],1)],1)],1),_vm._v(\" \"),_c('layer-control',{attrs:{\"layers\":_vm.layers,\"map\":_vm.map}})],1),_vm._v(\" \"),_c('v-toolbar',{attrs:{\"color\":\"indigo\",\"dark\":\"\",\"fixed\":\"\",\"app\":\"\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_vm._v(\" \"),_c('v-toolbar-title',[_vm._v(\"Safer schools viewer\")])],1),_vm._v(\" \"),_c('v-content',[_c('div',{attrs:{\"id\":\"map\"}},[_c('v-mapbox',{ref:\"map\",attrs:{\"access-token\":\"pk.eyJ1IjoiY2FtdmR2cmllcyIsImEiOiJjajA4NXdpNmswMDB2MzNzMjk4dGM2cnhzIn0.lIwd8N7wf0hx7mq-kjTcbQ\",\"map-style\":\"mapbox://styles/mapbox/streets-v9\",\"center\":[34.85752836605343, -19.830506337137294],\"zoom\":10,\"pitch\":60,\"bearing\":-132,\"min-zoom\":5,\"id\":\"map\"}},[_c('v-hazards'),_vm._v(\" \"),_c('v-results-layers'),_vm._v(\" \"),_c('v-exposure-layers'),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"popupinfo\"}},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"hide-actions\":\"\"},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('td',[_vm._v(_vm._s(props.item.name))]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-right\"},[_vm._v(_vm._s(props.item.rp10))]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-right\"},[_vm._v(_vm._s(props.item.rp100))]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-right\"},[_vm._v(_vm._s(props.item.rp500))]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-right\"},[_vm._v(_vm._s(props.item.AED))])]}}])})],1)],1)],1)]),_vm._v(\" \"),_c('v-footer',{attrs:{\"color\":\"indigo\",\"app\":\"\"}},[_c('span',{staticClass:\"white--text\"},[_vm._v(\"© 2017\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9706d844\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9706d844\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./app.js\"\nimport __vue_script__ from \"!!babel-loader!./app.js\"/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9706d844\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport Vuetify from 'vuetify';\n\nimport App from './App.vue';\nimport Vue2MapboxGL from 'vue2mapbox-gl';\n\nVue.use(Vue2MapboxGL);\nVue.use(Vuetify);\n\nimport 'vuetify/dist/vuetify.min.css';\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}